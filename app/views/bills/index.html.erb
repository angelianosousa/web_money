<div class="container">
  <nav class="navbar navbar-light">
    <%= navlink_bill %>

    <div class='float-right'>
      <%= modal_to_new_resource(t('.new_resource'), target: '#newBillModal') %>

      <%= filter %>
    </div>
  </nav>
</div><br>

<div class="collapse" id="collapseSearch">
  <%= render 'search_filter' %>
</div>

<div class='row mb-3'>
  <% @bills.each do |bill| %>
    <div class='col-sm-4 mb-2'>
      <div class='card border-dark' style='border-radius 10px;'>
        <div class='card-body'>
          <div class='custom-card-text'>
            <div class='float-right'>
              <%= render 'actions', bill: bill %>
            </div>
            <h5><%= bill_type_status(bill.bill_type) %> <%= bill.title %></h5>
            <p>
              <%= humanized_money_with_symbol(bill.price_cents) rescue nil %>
              - <%= bill.due_pay.strftime('%d/%m/%y') %>
            </p>
            <div class='float-right'>
              <%= bill_payment(bill.status) %>
            </div>
          </div>
        </div>
      </div>

      <%= render partial: "#{params[:controller]}/modals/new_payment", locals: { bill: bill } %>
    </div>
  <% end %>
</div>

<div class='container-fluid'>
  <%= paginate @bills %>
</div>

<%= render partial: "#{params[:controller]}/modals/new", locals: { bill: @bill = current_user_profile.bills.new } %>
