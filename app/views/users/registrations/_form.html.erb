<%= form_for(resource, as: resource_name, url: user_registration_path, html: { class: 'form', method: :patch }) do |f| %>

  <div class='row'>
    <div class='col-md'>
      <div class='card mb-3'>
        <div class='card-body'>
          <% @avatar = current_user.avatar || 'https://bulma.io/images/placeholders/1280x960.png' %>

          <%= image_tag(@avatar, size:"192x192", class:"img-circle profile_img") %>
        </div>
      </div>

      <h3>Cancelamento de conta</h3>

      <p><%= link_to "Cancelar minha conta", cancel_user_registration_path(resource_name), class: 'btn btn-danger', data: { confirm: "Are you sure?" }, method: :delete %></p>
    </div>

    <div class='col-md-9'>
      <div class='card'>
        <div class='card-body'>
          <div class='row'>

            <div class='col'>
              <div class="form-group">
                <%= f.label :username %><br />
                <%= f.text_field :username, autofocus: true, class:"form-control" %>
              </div>
            </div>
            <div class='col'>
              <div class="form-group">
                <%= f.label :email %><br />
                <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"form-control" %>
              </div>
            </div>
            <div class='col'>
              <div class='form-group'>
                <label><%= User.human_attribute_name :avatar %></label>
                <div class='field'>
                  <div class='custom-file'>
                    <%= f.label :'Escolher arquivo', class:'custom-file-label', for:'customFile' %>
                    <%= f.file_field :avatar, class:'custom-file-input', id:'customFile' %>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <div>Esperando confirmação: <%= resource.unconfirmed_email %></div>
          <% end %>

          <div class='row mt-2'>
            <div class='col-12 mt-2'>
              <div class="form-group">
                <%= f.label :current_password %> <i>(Precisamos da sua senha atual, para atualizar os dados)</i><br />
                <%= f.password_field :current_password, autocomplete: "********", class:"form-control" %>
              </div>
            </div>
            <div class='col'>
              <div class="form-group">
                <%= f.label :new_password %> <i>(Deixe em branco se não quiser editar)</i><br />
                <%= f.password_field :password, autocomplete: "********", class:"form-control" %>
              </div>
            </div>
            <div class='col'>
              <div class="form-group">
                <%= f.label :password_confirmation %><br />
                <%= f.password_field :password_confirmation, autocomplete: "********", class:"form-control" %>
              </div>
            </div>
          </div>

        </div>

        <div class='m-3 actions'>
          <%= f.submit t('save'), class:'btn btn-primary' %>&nbsp;
          <%= link_to t('back'), dashboard_index_path, class:'btn btn-secondary' %>
        </div>
      </div>

    </div>

  </div>

<% end %>
